import os
import random
from telegram import Update, ReplyKeyboardMarkup, KeyboardButton
from telegram.ext import Application, CommandHandler, MessageHandler, ContextTypes, filters

# 78 карт Таро — практичні описи для бота
# Кожна карта — словник з полями: name, keywords, meaning, advice, image
# Текст українською, без містики — практичний, життєвий стиль

cards = [
    # Старші Аркани
    {
        "name": "0. Шут (Дурак)",
        "keywords": "новий початок, наївність, свобода",
        "meaning": (
            "Карта вказує на старт нового етапу. Ви можете відчувати легкість і відкритість, "
            "готовність ризикнути і протестувати нові ідеї. Це час експериментів та навчання через досвід."
        ),
        "advice": (
            "Дозвольте собі невеликі ризики, але зберігайте уважність. Плануйте прості кроки і сприймайте помилки як уроки."
        ),
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/1-1.jpg"
    },
    {
        "name": "I. Маг",
        "keywords": "воля, ресурсність, ініціатива",
        "meaning": (
            "Ви маєте необхідні ресурси і навички, щоб просувати справи. Це знак проактивності — можливість взяти ініціативу і реалізувати задумане."
        ),
        "advice": "Сконцентруйтесь на конкретних діях: розпишіть кроки і почніть з найпростішого.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/2-1.jpg"
    },
    {
        "name": "II. Верховна Жриця",
        "keywords": "інтуїція, таємниці, духовність",
        "meaning": (
            "Час слухати внутрішній голос і збирати інформацію, яка не завжди очевидна. Підсвідомі сигнали підказують напрямок, а поспішні рішення можуть бути невдалими."
        ),
        "advice": "Зробіть паузу для аналізу і дослідження; не приймайте важливих рішень під тиском.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/3-1.jpg"
    },
    {
        "name": "III. Імператриця",
        "keywords": "родючість, творчість, турбота",
        "meaning": (
            "Період росту і створення. Ідеї та проекти мають шанс на розвиток, якщо ви потурбуєтесь про їхнє середовище — час для догляду й інвестицій в процес."
        ),
        "advice": "Створіть умови для розвитку: подбайте про ресурси, час і підтримку — дайте ідеї простір для зростання.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/4-1.jpg"
    },
    {
        "name": "IV. Імператор",
        "keywords": "структура, контроль, авторитет",
        "meaning": (
            "Необхідний порядок і дисципліна. Ситуація вимагає чіткої організації, планування і відповідальності за прийняті рішення."
        ),
        "advice": "Встановіть правила, план та дедлайни; делегуйте відповідальність і дотримуйтеся обраної стратегії.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/5.jpg"
    },
    {
        "name": "V. Ієрофант",
        "keywords": "традиції, навчання, духовні цінності",
        "meaning": (
            "Пора звернутися до знань, перевірених методів або наставництва. Освітні та структуровані підходи допоможуть ухвалити збалансоване рішення."
        ),
        "advice": "Шукайте поради у досвідчених людей і будьте відкриті до систематичного навчання.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/6.jpg"
    },
    {
        "name": "VI. Закохані",
        "keywords": "вибір, відносини, гармонія",
        "meaning": (
            "Ключовий вибір, часто пов'язаний з відносинами або важливими цінностями. Важливо з'ясувати, що для вас пріоритетніше — емоції чи логіка."
        ),
        "advice": "Розгляньте обидві сторони питання, поспілкуйтесь відкрито з іншими залученими людьми.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/7.jpg"
    },
    {
        "name": "VII. Колісниця",
        "keywords": "воля, рух, перемога",
        "meaning": (
            "Сили на вашому боці — ви можете досягти прогресу завдяки рішучості та дисципліні. Це час активних дій і контролю над напрямком руху."
        ),
        "advice": "Ставте чіткі цілі і рухайтесь до них послідовно; зосередьтесь і не відволікайтеся.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/8.jpg"
    },
    {
        "name": "VIII. Сила",
        "keywords": "терпіння, мужність, ніжність",
        "meaning": (
            "Справжня сила — у витримці й контролі емоцій. Ви можете досягти результатів завдяки співчуттю та внутрішній дисципліні."
        ),
        "advice": "Керуйтесь терпінням і добротою; іноді м'який підхід ефективніший за жорсткі заходи.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/9.jpg"
    },
    {
        "name": "IX. Відлюдник",
        "keywords": "усамітнення, пошук, внутрішня мудрість",
        "meaning": (
            "Потреба в часі для роздумів і аналізу. Відступ допомагає побачити картину ширше і знайти внутрішні відповіді."
        ),
        "advice": "Виділіть час на саморефлексію; тиша і дистанція допоможуть ухвалити зважене рішення.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/10.jpg"
    },
    {
        "name": "X. Колесо Фортуни",
        "keywords": "зміни, удача, цикли",
        "meaning": (
            "Життя змінюється — настають цикли підйому або спаду. Важливо адаптуватися і скористатися можливостями, коли вони з'являються."
        ),
        "advice": "Будьте готові до змін; працюйте над тим, щоб використовувати сприятливі моменти.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/11.jpg"
    },
    {
        "name": "XI. Справедливість",
        "keywords": "баланс, правда, відповідальність",
        "meaning": (
            "Рішення, яке вимагає об'єктивності й чесності. Ваші дії матимуть наслідки — будьте готові нести відповідальність."
        ),
        "advice": "Оцініть факти без емоцій і дійте відповідно до принципів і норм.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/12.jpg"
    },
    {
        "name": "XII. Повішений",
        "keywords": "пауза, переосмислення, жертва",
        "meaning": (
            "Час призупинити активні зусилля і подивитись на ситуацію з іншої перспективи. Інколи тимчасова жертва відкриває нові можливості."
        ),
        "advice": "Відпустіть контроль хоча б на час, щоб зрозуміти, де можна змінити підхід.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/13.jpg"
    },
    {
        "name": "XIII. Смерть",
        "keywords": "трансформація, кінець, оновлення",
        "meaning": (
            "Необхідне завершення певного етапу. Це природний процес — через закінчення приходить оновлення і можливість почати з чистого листа."
        ),
        "advice": "Прийміть завершення і плануйте наступні кроки; очищення відкриває простір для нового.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/smert.jpg"
    },
    {
        "name": "XIV. Помірність",
        "keywords": "гармонія, баланс, поміркованість",
        "meaning": (
            "Пошук золотої середини між крайнощами. Потрібно інтегрувати різні підходи і зберегти стабільність."
        ),
        "advice": "Шукайте компроміси і працюйте над балансом між роботою та відпочинком.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/umerennost.jpg"
    },
    {
        "name": "XV. Диявол",
        "keywords": "обмеження, спокуса, прив’язаність",
        "meaning": (
            "Карта вказує на залежності або звички, що стримують розвиток. Важливо виявити, що саме утримує вас від руху вперед."
        ),
        "advice": "Проаналізуйте, які звички чи ситуації вас обмежують, і робіть маленькі кроки до звільнення.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/diyavol.jpg"
    },
    {
        "name": "XVI. Вежа",
        "keywords": "руйнування, шок, прозріння",
        "meaning": (
            "Раптові зміни або кризи, що руйнують попередні плани. Хоч це може бути болісно, після нестабільності часто приходить ясність."
        ),
        "advice": "Не опирайтеся неминучим змінам; швидко перегляньте пріоритети і дійте практично.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/padayushaya-bashnya.jpg"
    },
    {
        "name": "XVII. Зірка",
        "keywords": "надія, зцілення, натхнення",
        "meaning": (
            "Період відновлення й оптимізму. Ви отримуєте підтримку і бачите перспективи, що дозволяють рухатися вперед з вірою в успіх."
        ),
        "advice": "Не втрачайти надії; працюйте над відновленням сил і маленькими кроками до мети.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/zvezda.jpg"
    },
    {
        "name": "XVIII. Місяць",
        "keywords": "ілюзії, підсвідомість, страхи",
        "meaning": (
            "Невизначеність і приховані фактори можуть впливати на рішення. Варто бути уважним до власних емоцій і не приймати імпульсивних висновків."
        ),
        "advice": "Перевіряйте інформацію і працюйте з емоціями; не робіть важливих кроків в стані тривоги.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/luna.jpg"
    },
    {
        "name": "XIX. Сонце",
        "keywords": "радість, успіх, ясність",
        "meaning": (
            "Успішний і ясний період — досягнення і піднесення. Позитивна динаміка в справах і стосунках."
        ),
        "advice": "Приймайте успіхи і діліться ними; використайте енергію для нових цілей.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/solnce.jpg"
    },
    {
        "name": "XX. Суд",
        "keywords": "відродження, рішення, пробудження",
        "meaning": (
            "Час оцінки минулого і робити висновки; можливість переглянути рішення та зробити важливі висновки."
        ),
        "advice": "Проаналізуйте уроки минулого і рухайтесь далі з оновленим розумінням.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/strashnyi-sud.jpg"
    },
    {
        "name": "XXI. Світ",
        "keywords": "завершення, цілісність, досягнення",
        "meaning": (
            "Цикл завершується успіхом — відчуття виконаної роботи і готовності до нових викликів. Це ознака цілісності і завершення."
        ),
        "advice": "Святкуйте досягнення і робіть план на наступний цикл; дайте собі час на відновлення.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/mir.jpg"
    },

    # Молодші Аркани — Жезли
    {
        "name": "Туз Жезлів",
        "keywords": "початок, натхнення, енергія",
        "meaning": (
            "Початок творчого проекту або сильне внутрішнє натхнення. Нові можливості вимагають ініціативи і рішучості."
        ),
        "advice": "Скористайтесь імпульсом: запустіть мінімальний життєздатний варіант і тестуйте ідею.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/tuz-zhezlov.jpg"
    },
    {
        "name": "Двійка Жезлів",
        "keywords": "планування, вибір, стратегія",
        "meaning": (
            "Час визначити напрямок і спланувати наступні кроки. Важливо зважити ризики та можливості."
        ),
        "advice": "Підготуйте простий план дій і оцініть найважливіші ресурси для старту.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/1-2.jpg"
    },
    {
        "name": "Трійка Жезлів",
        "keywords": "розвиток, перспектива, прогрес",
        "meaning": (
            "Період розширення горизонтів і отримання перших результатів від зусиль. Потрібно дивитись наперед і готуватися до масштабування."
        ),
        "advice": "Оцініть перші результати і підготуйтеся розширювати те, що працює.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/2-2.jpg"
    },
    {
        "name": "Четвірка Жезлів",
        "keywords": "свято, стабільність, успіх",
        "meaning": (
            "Стабільний результат і привід для святкування. Це період, коли можна оцінити досягнення і зміцнити команду або стосунки."
        ),
        "advice": "Відзначте успіхи і використайте позитив для подальшого мотиваційного поштовху.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/3-2.jpg"
    },
    {
        "name": "П’ятірка Жезлів",
        "keywords": "конфлікт, конкуренція, випробування",
        "meaning": (
            "Серія випробувань, через які доводиться боротися за позиції або ресурси. Конкуренція стимулює зростання, але може бути виснажливою."
        ),
        "advice": "Вчіться конструктивно вирішувати конфлікти і фокусуйтесь на своїх цілях, а не на опонентах.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/4-2.jpg"
    },
    {
        "name": "Шістка Жезлів",
        "keywords": "перемога, визнання, успіх",
        "meaning": (
            "Визнання зусиль і публічний успіх. Це момент, коли зовнішні результати підтверджують вашу працю."
        ),
        "advice": "Прийміть визнання, але не зупиняйтесь — використайте його для подальшого розвитку.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/5-1.jpg"
    },
    {
        "name": "Сімка Жезлів",
        "keywords": "оборона, стійкість, боротьба",
        "meaning": (
            "Потрібно захищати свої позиції і відстоювати те, що важливо. Час активної стійкості і наполегливості."
        ),
        "advice": "Будьте наполегливі і готуйте аргументи; зберігайте холодний розум в стресових ситуаціях.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/6-1.jpg"
    },
    {
        "name": "Вісімка Жезлів",
        "keywords": "швидкість, зміни, рух",
        "meaning": (
            "Події розвиваються швидко — потрібно діяти оперативно. Швидкість може приносити як можливості, так і ризики."
        ),
        "advice": "Підготуйтеся приймати рішення швидко: відсікайте неістотне і фокусуйтесь на ключовому.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/7-1.jpg"
    },
    {
        "name": "Дев’ятка Жезлів",
        "keywords": "терпіння, підготовка, захист",
        "meaning": (
            "Період, коли важливо зберігати ресурси і бути наготові до випробувань. Ви можете бути вичерпані, але близькі до мети."
        ),
        "advice": "Не здавайтеся: відновіть сили і закріпіть здобуті позиції.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/8-1.jpg"
    },
    {
        "name": "Десятка Жезлів",
        "keywords": "тягар, відповідальність, навантаження",
        "meaning": (
            "Занадто багато обов'язків може обтяжувати і знижувати ефективність. Час подумати про перерозподіл або делегування."
        ),
        "advice": "Розділіть навантаження, просіть допомоги і сфокусуйтесь на пріоритетах.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/9-1.jpg"
    },
    {
        "name": "Паж Жезлів",
        "keywords": "початок, ентузіазм, новини",
        "meaning": (
            "Повідомлення чи ідея, що надихає на дії. Молоде завзяття та бажання вчитися."
        ),
        "advice": "Приймайте нові виклики відкрито, але перевіряйте реалістичність планів.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/10-1.jpg"
    },
    {
        "name": "Рицар Жезлів",
        "keywords": "енергія, авантюра, рішучість",
        "meaning": (
            "Активний рух вперед з ентузіазмом, але іноді надмірна поспішність. Це дія за інтуїцією і відвагою."
        ),
        "advice": "Користуйтеся енергією, але пристосовуйте рішучість до реальних умов.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/11-1.jpg"
    },
    {
        "name": "Королева Жезлів",
        "keywords": "пристрасність, впевненість, творчість",
        "meaning": (
            "Практичний лідер, який натхненно веде проекти і підтримує інших. Творчість поєднана з організованістю."
        ),
        "advice": "Довіряйте інтуїції і діліться своїм натхненням, водночас залишайтеся дисциплінованими.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/12-1.jpg"
    },
    {
        "name": "Король Жезлів",
        "keywords": "лідерство, вплив, відповідальність",
        "meaning": (
            "Рішучий і відповідальний керівник, що вміє брати на себе ініціативу і вести команду.") ,
        "advice": "Використовуйте свою відповідальність для створення дисципліни і розвитку людей.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/13-1.jpg"
    },

    # Кубки
    {
        "name": "Туз Кубків",
        "keywords": "нове почуття, любов, емоції",
        "meaning": (
            "Початок емоційного оновлення або можливості для глибших відносин. Відкритість і готовність поділитися почуттями."
        ),
        "advice": "Будьте відкриті для емоцій і давайте їм простір для вираження.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/tuz-kubkov.jpg"
    },
    {
        "name": "Двійка Кубків",
        "keywords": "партнерство, злагода, союз",
        "meaning": (
            "Знак гармонійних відносин і взаємної підтримки. Партнерство може розвиватись на основі довіри і спільних цілей."
        ),
        "advice": "Працюйте над комунікацією і будьте чесні у взаєминах.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/dvoika-kubkov.jpg"
    },
    {
        "name": "Трійка Кубків",
        "keywords": "свято, дружба, радість",
        "meaning": (
            "Період соціальної радості — підтримка друзів, спільні святкування і відновлення енергії через спільність."
        ),
        "advice": "Присвятіть час близьким і дозвольте собі відпочити в колі підтримки.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/troika-kubkov.jpg"
    },
    {
        "name": "Четвірка Кубків",
        "keywords": "роздуми, незадоволення, пауза",
        "meaning": (
            "Ви можете відчувати емоційну апатію або втрату інтересу. Це сигнал зробити паузу і переглянути, що саме не відповідає вашим очікуванням."
        ),
        "advice": "Прислухайтеся до себе і шукайте нові можливості, навіть якщо вони здаються непомітними.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/chetverka-kubkov.jpg"
    },
    {
        "name": "П’ятірка Кубків",
        "keywords": "втрата, сум, розчарування",
        "meaning": (
            "Біль і смуток через неприємні події. Важливо дозволити собі відчути емоції, але також помічати можливості, що залишилися."
        ),
        "advice": "Дайте часу на зцілення і поступово звертайте увагу на те, що ще можна зберегти.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/1-3.jpg"
    },
    {
        "name": "Шістка Кубків",
        "keywords": "спогади, ностальгія, дитинство",
        "meaning": (
            "Повернення до простих радощів минулого — спогади, що дають підказки і сили. Можна знайти ресурси в досвіді минулих успіхів."
        ),
        "advice": "Використайте позитивне з минулого для натхнення сьогодні.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/2-3.jpg"
    },
    {
        "name": "Сімка Кубків",
        "keywords": "ілюзії, вибір, мрії",
        "meaning": (
            "Багато варіантів і спокус можуть збити з пантелику. Важливо відфільтрувати реальні можливості від мрій без плану."
        ),
        "advice": "Фокусуйтеся на реалістичних цілях і робіть вибір, базуючись на практичності.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/3-3.jpg"
    },
    {
        "name": "Вісімка Кубків",
        "keywords": "відхід, пошук, зміни",
        "meaning": (
            "Рішення залишити те, що більше не приносить задоволення, заради пошуку чогось важливішого. Це сміливий крок до відновлення."
        ),
        "advice": "Не бійтеся робити кроки в невідомість заради внутрішнього спокою.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/4-3.jpg"
    },
    {
        "name": "Дев’ятка Кубків",
        "keywords": "задоволення, щастя, успіх",
        "meaning": (
            "Емоційне задоволення і відчуття, що бажання збуваються. Це час насолоджуватись плодами своєї праці."
        ),
        "advice": "Цінуйте те, що маєте, і діліться ресурсами з близькими.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/5-2.jpg"
    },
    {
        "name": "Десятка Кубків",
        "keywords": "гармонія, сім’я, щастя",
        "meaning": (
            "Стабільні та щасливі відносини в родині і громаді. Відчуття виконаної ролі і тепла в стосунках."
        ),
        "advice": "Дбайте про близьких і створюйте безпечне середовище для взаємної підтримки.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/6-2.jpg"
    },
    {
        "name": "Паж Кубків",
        "keywords": "почуття, творчість, новини",
        "meaning": (
            "Поява нових емоцій або творчих ідей. Повідомлення, що пробudжує інтерес до мистецтва чи відносин."
        ),
        "advice": "Приймайте натхнення і експериментуйте з творчими підходами.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/7-2.jpg"
    },
    {
        "name": "Рицар Кубків",
        "keywords": "романтика, рух, мрії",
        "meaning": (
            "Романтичні наміри та рух в напрямку серця. Людина або подія, що приносить емоційний поштовх."
        ),
        "advice": "Будьте реалістичними в очікуваннях, але не відмовляйтеся від щирих виявів почуттів.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/8-2.jpg"
    },
    {
        "name": "Королева Кубків",
        "keywords": "співчуття, інтуїція, підтримка",
        "meaning": (
            "Емоційна мудрість і здатність підтримувати інших. Ця карта вказує на емпатичний підхід і зрілість у відносинах."
        ),
        "advice": "Слухайте інших і підтримуйте, але не забувайте про власні межі.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/9-2.jpg"
    },
    {
        "name": "Король Кубків",
        "keywords": "гармонія, мудрість, контроль",
        "meaning": (
            "Зрілий емоційно і вмілий у врегулюванні конфліктів. Добре поєднує почуття з раціональністю."
        ),
        "advice": "Баланс емоцій і розуму допоможе приймати виважені рішення.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/10-2.jpg"
    },

    # Мечі
    {
        "name": "Туз Мечів",
        "keywords": "ясність, правда, рішення",
        "meaning": (
            "Прояснення ситуації, можливість побачити істину і прийняти рішення. Інтелект і логіка на вашому боці."
        ),
        "advice": "Дійте чесно і відкрито; використовуйте раціональний підхід для вирішення проблем.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/tuz-mechei.jpg"
    },
    {
        "name": "Двійка Мечів",
        "keywords": "вибір, баланс, нерішучість",
        "meaning": (
            "Внутрішній конфлікт і потреба знайти компроміс. Рішення вимагатиме зваженого підходу."
        ),
        "advice": "Зберіть факти і дайте собі час, щоб ухвалити збалансоване рішення.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/dvoika-mechei.jpg"
    },
    {
        "name": "Трійка Мечів",
        "keywords": "біль, розчарування, зрада",
        "meaning": (
            "Емоційний біль і розчарування, пов'язане з розривом очікувань або відносин. Потрібен час, щоб зрозуміти і відновитись."
        ),
        "advice": "Дайте собі простір на зцілення і працюйте над відновленням емоційного ресурсу.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/troika-mechei.jpg"
    },
    {
        "name": "Четвірка Мечів",
        "keywords": "відпочинок, відновлення, пауза",
        "meaning": (
            "Необхідність зупинитись і відновити сили. Психічне і фізичне відновлення важливі для наступної активності."
        ),
        "advice": "Зробіть паузу і відновіть енергію: сон, відпочинок і структурування думок.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/chetverka-mechei.jpg"
    },
    {
        "name": "П’ятірка Мечів",
        "keywords": "конфлікт, поразка, урок",
        "meaning": (
            "Конфлікти, що призводять до втрат або неприємних уроків. Важливо проаналізувати помилки і зробити висновки."
        ),
        "advice": "Оцініть збитки реалістично і уникайте повторення помилок.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/pyaterka-mechei.jpg"
    },
    {
        "name": "Шістка Мечів",
        "keywords": "перехід, рух, зміни",
        "meaning": (
            "Рух від турбулентності до спокійнішого стану. Це може бути фізичний переїзд або зміна внутрішнього ставлення."
        ),
        "advice": "Плануйте перехід і підтримуйте процес поступово.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/shesterka-mechei.jpg"
    },
    {
        "name": "Сімка Мечів",
        "keywords": "обман, хитрість, уникнення",
        "meaning": (
            "Можливі хитрощі з боку інших або бажання уникнути відповідальності. Будьте уважні до деталей і мотивів людей."
        ),
        "advice": "Перевіряйте факти і дійте обережно при підписанні угод або довірі.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/semerka-mechei.jpg"
    },
    {
        "name": "Вісімка Мечів",
        "keywords": "обмеження, страх, пастка",
        "meaning": (
            "Відчуття обмеження або розпачу через внутрішні страхи або зовнішні обставини. Потрібно знайти практичні способи вийти з пастки."
        ),
        "advice": "Проаналізуйте обмеження і розробіть поетапний план для їх подолання.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/vosmerka-mechei.jpg"
    },
    {
        "name": "Дев’ятка Мечів",
        "keywords": "тривога, страх, нічні кошмари",
        "meaning": (
            "Сильний внутрішній стрес і тривога, що заважають нормальному життю. Потрібно працювати з джерелом переживань."
        ),
        "advice": "Зверніться по підтримку і використовуйте техніки релаксації; робіть маленькі кроки для відновлення спокою.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/devyatka-mechei.jpg"
    },
    {
        "name": "Десятка Мечів",
        "keywords": "крах, кінець, звільнення",
        "meaning": (
            "Кінець важкого циклу — хоч це може бути болісним, воно відкриває шлях до відродження."
        ),
        "advice": "Поступово приймайте зміни і плануйте новий старт після періоду відновлення.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/desyatka-mechei.jpg"
    },
    {
        "name": "Паж Мечів",
        "keywords": "спостереження, навчання, новини",
        "meaning": (
            "Сигнал до уваги і збору інформації. Це час пильності і навчання через спостереження."
        ),
        "advice": "Будьте уважні до деталей і не давайте поспішних оцінок.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/pazh-mechei.jpg"
    },
    {
        "name": "Рицар Мечів",
        "keywords": "рішучість, швидкість, ідеали",
        "meaning": (
            "Швидкі дії, часто керовані переконаннями або принципами. Може бути ризик поспішних кроків."
        ),
        "advice": "Думайте про наслідки швидких рішень і поєднуйте швидкість з аналізом.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/rycar-mechei.jpg"
    },
    {
        "name": "Королева Мечів",
        "keywords": "розум, незалежність, чесність",
        "meaning": (
            "Об'єктивність і ясність мислення. Ця карта закликає до самостійності і чесності у висновках."
        ),
        "advice": "Говоріть прямо, але справедливо; будьте готові до конструктивної критики.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/koroleva-mechei.jpg"
    },
    {
        "name": "Король Мечів",
        "keywords": "інтелект, авторитет, справедливість",
        "meaning": (
            "Розумний і об'єктивний підхід до складних справ; лідерство через логіку і правила."
        ),
        "advice": "Застосовуйте принципи справедливості і аналізуйте дані перед рішенням.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/korol-mechei.jpg"
    },

    # Пентаклі
    {
        "name": "Туз Пентаклів",
        "keywords": "нові можливості, матеріальний початок",
        "meaning": (
            "Сприятливі умови для матеріальних змін: фінанси, робота або нові проекти, що мають практичний потенціал."
        ),
        "advice": "Оцініть довгострокову вигоду і інвестуйте розважливо.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/11-2.jpg"
    },
    {
        "name": "Двійка Пентаклів",
        "keywords": "баланс, адаптація, гнучкість",
        "meaning": (
            "Потрібно вміти балансувати між різними обов'язками і ресурсами. Адаптивність допоможе впоратися з навантаженням."
        ),
        "advice": "Складіть пріоритети й використовуйте прості інструменти планування.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/12-2.jpg"
    },
    {
        "name": "Трійка Пентаклів",
        "keywords": "співпраця, майстерність, розвиток",
        "meaning": (
            "Успіх через командну роботу та вдосконалення навичок. Якісна співпраця приносить стійкі результати."
        ),
        "advice": "Працюйте над майстерністю і цінуйте внесок команди.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/troika-pentaklei.jpg"
    },
    {
        "name": "Четвірка Пентаклів",
        "keywords": "стабільність, накопичення, контроль",
        "meaning": (
            "Схильність триматися за ресурси і уникати ризиків. Це може зберігати безпеку, але гальмувати розвиток."
        ),
        "advice": "Переоцініть, що дійсно варто зберігати; інколи варто інвестувати для росту.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/chetverka-pentaklei.jpg"
    },
    {
        "name": "П’ятірка Пентаклів",
        "keywords": "втрати, труднощі, підтримка",
        "meaning": (
            "Матеріальні труднощі або відчуття нестачі. Важливо звертатися по допомогу і шукати реальні рішення."
        ),
        "advice": "Не соромтесь просити підтримки; шукайте практичні шляхи для відновлення стабільності.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/pyaterka-pentaklei.jpg"
    },
    {
        "name": "Шістка Пентаклів",
        "keywords": "щедрість, допомога, рівновага",
        "meaning": (
            "Баланс між давати і отримувати. Це добрий час для підтримки інших і прийняття допомоги.
        "),
        "advice": "Будьте щедрі, але розумні; налаштуйте баланс у фінансових і соціальних обмінах.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/shesterka-pentaklei.jpg"
    },
    {
        "name": "Сімка Пентаклів",
        "keywords": "терпіння, оцінка, праця",
        "meaning": (
            "Період очікування плодів праці. Потрібно аналізувати прогрес і терпляче працювати далі."
        ),
        "advice": "Переоцініть стратегію і внесіть корективи; терпіння тут ключове.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/semerka-pentaklei.jpg"
    },
    {
        "name": "Вісімка Пентаклів",
        "keywords": "навчання, майстерність, практика",
        "meaning": (
            "Час відточувати навички і працювати над якістю. Постійні зусилля приведуть до професійного росту."
        ),
        "advice": "Фокусуйтесь на процесі і регулярній практиці, це принесе довгострокові результати.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/vosmerka-pentaklei.jpg"
    },
    {
        "name": "Дев’ятка Пентаклів",
        "keywords": "самодостатність, достаток, комфорт",
        "meaning": (
            "Знак матеріальної самодостатності і здатності насолоджуватись плодами своєї праці. Це результат системних зусиль."
        ),
        "advice": "Цінуйте досягнення і підтримуйте фінансову дисципліну для збереження комфорту.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/devyatka-pentaklei.jpg"
    },
    {
        "name": "Десятка Пентаклів",
        "keywords": "благополуччя, спадщина, сім’я",
        "meaning": (
            "Стабільність і довгострокове благополуччя для сім'ї або спільноти. Це карта довіри й управління спадщиною."
        ),
        "advice": "Будуйте міцні фінансові основи і плануйте спадщину відповідально.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/desyatka-pentaklei.jpg"
    },
    {
        "name": "Паж Пентаклів",
        "keywords": "новини, навчання, можливості",
        "meaning": (
            "Ознака нових можливостей для професійного або фінансового зростання. Навчання і допитливість потрібні зараз."
        ),
        "advice": "Приймайте навчання і досліджуйте нові практичні шляхи для росту.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/pazh-pentaklei.jpg"
    },
    {
        "name": "Рицар Пентаклів",
        "keywords": "надійність, наполегливість, обережність",
        "meaning": (
            "Повільний, але стабільний прогрес. Надійні і практичні дії, що ведуть до результату.
        "),
        "advice": "Дотримуйтеся режиму і плану; сталість зараз важливіша за швидкість.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/rycar-pentaklei.jpg"
    },
    {
        "name": "Королева Пентаклів",
        "keywords": "практичність, турбота, стабільність",
        "meaning": (
            "Людина, що поєднує практичний підхід з турботою про комфорт і добробут. Фокус на матеріальному і домашньому добробуті."
        ),
        "advice": "Створюйте затишок і фінансову безпеку через організовані кроки.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/koroleva-pentaklei.jpg"
    },
    {
        "name": "Король Пентаклів",
        "keywords": "успіх, багатство, відповідальність",
        "meaning": (
            "Стабільний і успішний управлінець ресурсами. Здатність примножувати і зберігати капітал."
        ),
        "advice": "Керуйте ресурсами мудро і дбайте про довгострокову стійкість.",
        "image": "https://v-kosmose.com/wp-content/uploads/2020/10/korol-pentaklei.jpg"
    }
]

# Кінець файлу

# Формування повідомлення
def format_card_message(card):
    return (
        f"🃏 **{card['name']}**\n"
        f"✨ Ключові слова: {card['keywords']}\n"
        f"📜 Значення: {card['meaning']}\n"
        f"💡 Порада дня: {card['advice']}"
    )

# Команда /start
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    keyboard = ReplyKeyboardMarkup(
        [[KeyboardButton("Отримати карту дня")]],
        resize_keyboard=True
    )
    await update.message.reply_text(
        "Привіт! Натисни кнопку нижче, щоб отримати карту дня.",
        reply_markup=keyboard
    )

# Відправка випадкової карти
async def send_card(update: Update, context: ContextTypes.DEFAULT_TYPE):
    card = random.choice(cards)
    await update.message.reply_photo(
        photo=card['image'],
        caption=format_card_message(card),
        parse_mode="Markdown"
    )

# Головна функція
def main():
    token = os.getenv("BOT_TOKEN")
    if not token:
        raise ValueError("Не знайдено токен бота в змінній BOT_TOKEN")

    app = Application.builder().token(token).build()

    app.add_handler(CommandHandler("start", start))
    app.add_handler(CommandHandler("card", send_card))
    app.add_handler(MessageHandler(filters.Regex("^Отримати карту дня$"), send_card))

    print("Бот запущений...")
    app.run_polling()

if __name__ == "__main__":
    main()
